(this["webpackJsonpsd-0x-project-trybewallet"]=this["webpackJsonpsd-0x-project-trybewallet"]||[]).push([[0],{34:function(e,t,a){e.exports=a(47)},44:function(e,t,a){},46:function(e,t,a){},47:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(21),i=a.n(c),l=a(18),o=a(13),u=a(12),s=a(30),h=a(31),d=a(14),p=a.n(d),m=a(20),v=function(e){return{type:"SAVE_CURRENCY_FAILED",payload:e}},b={email:""};var f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_USER":return{email:t.payload};default:return e}},E=a(15),y={currency:[]};var C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SAVE_CURRENCY_SUCESS":return Object(E.a)(Object(E.a)({},e),{},{currency:t.payload});case"SAVE_CURRENCY_FAILED":return Object(E.a)(Object(E.a)({},e),{},{error:t.payload});default:return e}},j=a(32),g={expenses:[]};var O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_EXPENSES":return Object(E.a)(Object(E.a)({},e),{},{expenses:[].concat(Object(j.a)(e.expenses),[t.payload])});default:return e}},k=Object(u.combineReducers)({user:f,currency:C,wallet:O}),x=Object(u.createStore)(k,Object(s.composeWithDevTools)(Object(u.applyMiddleware)(h.a))),S=(a(44),a(2)),D=a(3),w=a(4),A=a(6),R=a(5),U=a(11),_=function(e){Object(A.a)(a,e);var t=Object(R.a)(a);function a(e){var n;return Object(D.a)(this,a),(n=t.call(this,e)).sumExpenses=n.sumExpenses.bind(Object(U.a)(n)),n}return Object(w.a)(a,[{key:"sumExpenses",value:function(){var e=this.props.expenses;return 0!==e.length?e.reduce((function(e,t){return e+t.value*t.exchangeRates[t.currency].ask}),0).toFixed(2):0}},{key:"render",value:function(){var e=this.props.email;return r.a.createElement("header",null,r.a.createElement("div",{"data-testid":"email-field"},e),r.a.createElement("div",{"data-testid":"total-field"},"Despesa Total",this.sumExpenses()),r.a.createElement("div",{"data-testid":"header-currency-field"},"BRL"))}}]),a}(r.a.Component),N=Object(o.b)((function(e){return{email:e.user.email,expenses:e.wallet.expenses}}))(_),M=a(17),F=function(e){Object(A.a)(a,e);var t=Object(R.a)(a);function a(){return Object(D.a)(this,a),t.apply(this,arguments)}return Object(w.a)(a,[{key:"render",value:function(){var e=this.props,t=e.valor,a=e.handleChange;return r.a.createElement("label",{htmlFor:"valor"},"Valor",r.a.createElement("input",{type:"number",id:"valor",name:"valor",value:t,onChange:a}))}}]),a}(n.Component),T=function(e){Object(A.a)(a,e);var t=Object(R.a)(a);function a(){return Object(D.a)(this,a),t.apply(this,arguments)}return Object(w.a)(a,[{key:"render",value:function(){var e=this.props,t=e.description,a=e.handleChange;return r.a.createElement("label",{htmlFor:"description"},"Descri\xe7\xe3o",r.a.createElement("input",{type:"text",id:"description",name:"descricao",value:t,onChange:a}))}}]),a}(n.Component),V=function(e){Object(A.a)(a,e);var t=Object(R.a)(a);function a(){return Object(D.a)(this,a),t.apply(this,arguments)}return Object(w.a)(a,[{key:"render",value:function(){var e=this.props,t=e.currencies,a=e.currency,n=e.handleChange;return r.a.createElement("label",{htmlFor:"currency"},"Moeda",r.a.createElement("select",{id:"currency",value:a,onChange:n},t?t.map((function(e,t){return r.a.createElement("option",{value:e,key:t},e)})):r.a.createElement("option",null,"erro")))}}]),a}(n.Component),L=function(e){Object(A.a)(a,e);var t=Object(R.a)(a);function a(){return Object(D.a)(this,a),t.apply(this,arguments)}return Object(w.a)(a,[{key:"render",value:function(){var e=this.props,t=e.paymentMethod,a=e.handleChange;return r.a.createElement("label",{htmlFor:"paymentMethod",value:t,onChange:a},"M\xe9todo de pagamento",r.a.createElement("select",{id:"paymentMethod"},r.a.createElement("option",{value:"Dinheiro"},"Dinheiro"),r.a.createElement("option",{value:"Cart\xe3o de cr\xe9dito"},"Cart\xe3o de cr\xe9dito"),r.a.createElement("option",{value:"Cart\xe3o de d\xe9bito"},"Cart\xe3o de d\xe9bito")))}}]),a}(n.Component),Y=function(e){Object(A.a)(a,e);var t=Object(R.a)(a);function a(){return Object(D.a)(this,a),t.apply(this,arguments)}return Object(w.a)(a,[{key:"render",value:function(){var e=this.props,t=e.tag,a=e.handleChange;return r.a.createElement("label",{htmlFor:"tag"},"Tag",r.a.createElement("select",{id:"tag",value:t,onChange:a},r.a.createElement("option",{value:"Alimenta\xe7\xe3o"},"Alimenta\xe7\xe3o"),r.a.createElement("option",{value:"Lazer"},"Lazer"),r.a.createElement("option",{value:"Trabalho"},"Trabalho"),r.a.createElement("option",{value:"Transporte"},"Transporte"),r.a.createElement("option",{value:"Sa\xfade"},"Sa\xfade")))}}]),a}(n.Component),I=function(e){Object(A.a)(a,e);var t=Object(R.a)(a);function a(){var e;return Object(D.a)(this,a),(e=t.call(this)).state={id:0,currencies:"",valor:0,description:"",currency:"USD",paymentMethod:"Dinheiro",tag:"Alimenta\xe7\xe3o"},e.getCurrencies=e.getCurrencies.bind(Object(U.a)(e)),e.handleChange=e.handleChange.bind(Object(U.a)(e)),e.handleClick=e.handleClick.bind(Object(U.a)(e)),e}return Object(w.a)(a,[{key:"componentDidMount",value:function(){this.getCurrencies()}},{key:"getCurrencies",value:function(){var e=Object(m.a)(p.a.mark((function e(){var t,a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://economia.awesomeapi.com.br/json/all");case 3:return t=e.sent,e.next=6,t.json();case 6:return a=e.sent,n=Object.keys(a).filter((function(e){return"USDT"!==e})),this.setState({currencies:n}),e.abrupt("return",a);case 12:e.prev=12,e.t0=e.catch(0),this.setState({currencies:e.t0});case 15:case"end":return e.stop()}}),e,this,[[0,12]])})));return function(){return e.apply(this,arguments)}}()},{key:"handleChange",value:function(e){var t=e.target,a=t.id,n="checkbox"===t.type?t.checked:t.value;this.setState(Object(M.a)({},a,n))}},{key:"handleClick",value:function(){var e=Object(m.a)(p.a.mark((function e(){var t,a,n,r,c,i,l,o,u;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state,a=t.valor,n=t.description,r=t.currency,c=t.paymentMethod,i=t.tag,l=t.id,o=this.props.addExpenseAction,e.t0=l,e.t1=a,e.t2=n,e.t3=r,e.t4=c,e.t5=i,e.next=10,this.getCurrencies();case 10:e.t6=e.sent,u={id:e.t0,value:e.t1,description:e.t2,currency:e.t3,method:e.t4,tag:e.t5,exchangeRates:e.t6},o(u),this.setState((function(e){return{id:e.id+1}}));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.currencies,a=e.valor,n=e.description,c=e.currency,i=e.paymentMethod,o=e.tag;return r.a.createElement("section",null,r.a.createElement("form",null,r.a.createElement(F,{value:a,handleChange:this.handleChange}),r.a.createElement(T,{value:n,handleChange:this.handleChange}),r.a.createElement(V,{value:c,currencies:t,handleChange:this.handleChange}),r.a.createElement(L,{value:i,handleChange:this.handleChange}),r.a.createElement(Y,{value:o,handleChange:this.handleChange}),r.a.createElement("button",{type:"button",onClick:this.handleClick},"Adicionar despesa")),r.a.createElement(l.b,{to:"/"},r.a.createElement("button",{type:"button"},"Voltar")))}}]),a}(r.a.Component),z=Object(o.b)((function(e){return{currency:e.currency.currency}}),(function(e){return{addExpenseAction:function(t){return e(function(e){return{type:"ADD_EXPENSES",payload:e}}(t))}}}))(I),B=function(e){Object(A.a)(a,e);var t=Object(R.a)(a);function a(){return Object(D.a)(this,a),t.apply(this,arguments)}return Object(w.a)(a,[{key:"render",value:function(){return r.a.createElement("section",null,r.a.createElement(N,null),r.a.createElement(z,null))}}]),a}(r.a.Component),J=(a(46),a(33)),P=function(e){Object(A.a)(a,e);var t=Object(R.a)(a);function a(){var e;return Object(D.a)(this,a),(e=t.call(this)).state={email:"",password:"",isDisabled:!0},e.handleChange=e.handleChange.bind(Object(U.a)(e)),e.handleClick=e.handleClick.bind(Object(U.a)(e)),e}return Object(w.a)(a,[{key:"handleChange",value:function(e){var t=e.target,a=t.name,n=t.value;this.setState(Object(M.a)({},a,n),this.loginValidation)}},{key:"handleClick",value:function(){var e=this.state.email,t=this.props,a=t.addUserAction,n=t.getCurrency;a(e),n()}},{key:"loginValidation",value:function(){var e=this.state,t=e.email,a=e.password;/(.*)@(.*).com/.test(t)&&a.length>=6?this.setState({isDisabled:!1}):this.setState({isDisabled:!0})}},{key:"render",value:function(){var e=this.state,t=e.email,a=e.password,n=e.isDisabled;return r.a.createElement("div",{className:"Login-all"},r.a.createElement("section",{className:"Login"},r.a.createElement("h3",null,"Fazer Login"),r.a.createElement(J.a,{className:"Icon"}),r.a.createElement("input",{className:"Email",type:"text",name:"email",value:t,onChange:this.handleChange,"data-testid":"email-input",placeholder:"e-mail"}),r.a.createElement("input",{className:"Senha",type:"text",name:"password",value:a,onChange:this.handleChange,"data-testid":"password-input",placeholder:"senha"}),r.a.createElement(l.b,{to:"/carteira"},r.a.createElement("button",{type:"button",disabled:n,onClick:this.handleClick,variant:"primary"},"Entrar"))))}}]),a}(r.a.Component),X=Object(o.b)(null,(function(e){return{addUserAction:function(t){return e(function(e){return{type:"ADD_USER",payload:e}}(t))},getCurrency:function(){return e(function(){var e=Object(m.a)(p.a.mark((function e(t){var a,n,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"SAVE_CURRENCY"}),e.prev=1,e.next=4,fetch("https://economia.awesomeapi.com.br/json/all");case 4:return a=e.sent,e.next=7,a.json();case 7:n=e.sent,r=Object.keys(n).filter((function(e){return"USDT"!==e})),t({type:"SAVE_CURRENCY_SUCESS",payload:r}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),t(v(e.t0));case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}())}}}))(P);var W=function(){return r.a.createElement(S.c,null,r.a.createElement(S.a,{path:"/carteira",component:B}),r.a.createElement(S.a,{path:"/",component:X}))};i.a.render(r.a.createElement(o.a,{store:x},r.a.createElement(l.a,null,r.a.createElement(W,null))),document.getElementById("root"))}},[[34,1,2]]]);
//# sourceMappingURL=main.30df1ed4.chunk.js.map