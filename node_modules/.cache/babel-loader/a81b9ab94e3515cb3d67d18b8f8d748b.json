{"ast":null,"code":"var _jsxFileName = \"/home/luisffg/Projetos/sd-012-project-trybewallet/src/pages/Login.js\";\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport { addUser, saveCurrencyThunk } from '../actions';\n\nclass Login extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      email: '',\n      password: '',\n      isDisabled: true\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.handleClick = this.handleClick.bind(this);\n  }\n\n  handleChange({\n    target: {\n      name,\n      value\n    }\n  }) {\n    this.setState({\n      [name]: value\n    }, this.loginValidation);\n  }\n\n  handleClick() {\n    const {\n      email\n    } = this.state;\n    const {\n      addUserAction,\n      getCurrency\n    } = this.props;\n    addUserAction(email);\n    getCurrency();\n  }\n\n  loginValidation() {\n    const {\n      email,\n      password\n    } = this.state; // referencia do regexValidation: https://regexr.com/3e48o\n\n    const regexValidation = /^[\\w-.]+@([\\w-]+\\.)+[\\w-]{2,4}$/;\n    const isValid = regexValidation.test(email);\n    const requiredLength = 6;\n\n    if (isValid && password.length >= requiredLength) {\n      this.setState({\n        isDisabled: false\n      });\n    } else {\n      this.setState({\n        isDisabled: true\n      });\n    }\n  }\n\n  render() {\n    const {\n      email,\n      password,\n      isDisabled\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"section\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      name: \"email\",\n      value: email,\n      onChange: this.handleChange,\n      \"data-testid\": \"email-input\",\n      placeholder: \"e-mail\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      name: \"password\",\n      value: password,\n      onChange: this.handleChange,\n      \"data-testid\": \"password-input\",\n      placeholder: \"senha\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(Link, {\n      to: \"/carteira\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      disabled: isDisabled,\n      onClick: this.handleClick,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 11\n      }\n    }, \"Entrar\")));\n  }\n\n}\n\nconst mapDispatchToProps = dispatch => ({\n  addUserAction: payload => dispatch(addUser(payload)),\n  getCurrency: () => dispatch(saveCurrencyThunk())\n});\n\nLogin.propTypes = {\n  addUserAction: PropTypes.func\n}.isRequired;\nexport default connect(null, mapDispatchToProps)(Login);","map":{"version":3,"sources":["/home/luisffg/Projetos/sd-012-project-trybewallet/src/pages/Login.js"],"names":["React","Link","connect","PropTypes","addUser","saveCurrencyThunk","Login","Component","constructor","state","email","password","isDisabled","handleChange","bind","handleClick","target","name","value","setState","loginValidation","addUserAction","getCurrency","props","regexValidation","isValid","test","requiredLength","length","render","mapDispatchToProps","dispatch","payload","propTypes","func","isRequired"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport { addUser, saveCurrencyThunk } from '../actions';\n\nclass Login extends React.Component {\n  constructor() {\n    super();\n\n    this.state = {\n      email: '',\n      password: '',\n      isDisabled: true,\n    };\n\n    this.handleChange = this.handleChange.bind(this);\n    this.handleClick = this.handleClick.bind(this);\n  }\n\n  handleChange({ target: { name, value } }) {\n    this.setState({\n      [name]: value,\n    }, this.loginValidation);\n  }\n\n  handleClick() {\n    const { email } = this.state;\n    const { addUserAction, getCurrency } = this.props;\n    addUserAction(email);\n    getCurrency();\n  }\n\n  loginValidation() {\n    const { email, password } = this.state;\n    // referencia do regexValidation: https://regexr.com/3e48o\n    const regexValidation = /^[\\w-.]+@([\\w-]+\\.)+[\\w-]{2,4}$/;\n    const isValid = regexValidation.test(email);\n    const requiredLength = 6;\n\n    if (isValid && password.length >= requiredLength) {\n      this.setState({\n        isDisabled: false,\n      });\n    } else {\n      this.setState({\n        isDisabled: true,\n      });\n    }\n  }\n\n  render() {\n    const { email, password, isDisabled } = this.state;\n    return (\n      <section>\n        <input\n          type=\"text\"\n          name=\"email\"\n          value={ email }\n          onChange={ this.handleChange }\n          data-testid=\"email-input\"\n          placeholder=\"e-mail\"\n        />\n        <input\n          type=\"text\"\n          name=\"password\"\n          value={ password }\n          onChange={ this.handleChange }\n          data-testid=\"password-input\"\n          placeholder=\"senha\"\n        />\n        <Link to=\"/carteira\">\n          <button\n            type=\"button\"\n            disabled={ isDisabled }\n            onClick={ this.handleClick }\n          >\n            Entrar\n          </button>\n        </Link>\n      </section>\n    );\n  }\n}\n\nconst mapDispatchToProps = (dispatch) => ({\n  addUserAction: (payload) => dispatch(addUser(payload)),\n  getCurrency: () => dispatch(saveCurrencyThunk()),\n});\n\nLogin.propTypes = {\n  addUserAction: PropTypes.func,\n}.isRequired;\n\nexport default connect(null, mapDispatchToProps)(Login);\n"]},"metadata":{},"sourceType":"module"}